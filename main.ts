controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed()) {
        if (controller.B.isPressed()) {
            controller.moveSprite(mySprite, 0, 0)
            projectile = sprites.createProjectileFromSprite(img`
                .......11111111111111111........
                ....1111111111111111111111......
                ..11111111111111111111111111....
                ..111111111111111111111111111...
                111111111111111111111111111111..
                1111111111111111111111111111111.
                11111111111111111111111111111111
                11111111111111111111111111111111
                1111111111111111111111111111111.
                .11111111111111111111111111111..
                ..111111111111111111111111111...
                ...1111111111111111111111111....
                ....11111111111111111111111.....
                .....111111111111111111111......
                ......111111111111111111........
                .......1111111111111111.........
                ........11111111111111..........
                .........111111111111...........
                ..........1111111111............
                ...........11111111.............
                ............111111..............
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                `, mySprite, 0, -200)
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed()) {
        if (controller.B.isPressed()) {
            controller.moveSprite(mySprite, 0, 0)
            projectile = sprites.createProjectileFromSprite(img`
                ......11........................
                .....1111.......................
                ....111111......................
                ...11111111.....................
                ..1111111111....................
                ..11111111111...................
                .1111111111111..................
                .1111111111111..................
                111111111111111.................
                1111111111111111................
                11111111111111111...............
                111111111111111111..............
                1111111111111111111.............
                11111111111111111111............
                111111111111111111111...........
                111111111111111111111...........
                111111111111111111111...........
                111111111111111111111...........
                111111111111111111111...........
                111111111111111111111...........
                11111111111111111111............
                1111111111111111111.............
                111111111111111111..............
                11111111111111111...............
                1111111111111111................
                .11111111111111.................
                .1111111111111..................
                .111111111111...................
                ..1111111111....................
                ..111111111.....................
                ....111111......................
                ....11111.......................
                `, mySprite, -200, 0)
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed()) {
        if (controller.B.isPressed()) {
            controller.moveSprite(mySprite, 0, 0)
            projectile = sprites.createProjectileFromSprite(img`
                ........................11......
                .......................1111.....
                ......................111111....
                .....................11111111...
                ....................1111111111..
                ...................11111111111..
                ..................1111111111111.
                ..................1111111111111.
                .................111111111111111
                ................1111111111111111
                ...............11111111111111111
                ..............111111111111111111
                .............1111111111111111111
                ............11111111111111111111
                ...........111111111111111111111
                ...........111111111111111111111
                ...........111111111111111111111
                ...........111111111111111111111
                ...........111111111111111111111
                ...........111111111111111111111
                ............11111111111111111111
                .............1111111111111111111
                ..............111111111111111111
                ...............11111111111111111
                ................1111111111111111
                .................11111111111111.
                ..................1111111111111.
                ...................111111111111.
                ....................1111111111..
                .....................111111111..
                ......................111111....
                .......................11111....
                `, mySprite, 200, 0)
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
controller.A.onEvent(ControllerButtonEvent.Released, function () {
    controller.moveSprite(mySprite, 100, 100)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (controller.A.isPressed()) {
        if (controller.B.isPressed()) {
            controller.moveSprite(mySprite, 0, 0)
            projectile = sprites.createProjectileFromSprite(img`
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ................................
                ............111111..............
                ...........11111111.............
                ..........1111111111............
                .........111111111111...........
                ........11111111111111..........
                .......1111111111111111.........
                ......111111111111111111........
                .....111111111111111111111......
                ....11111111111111111111111.....
                ...1111111111111111111111111....
                ..111111111111111111111111111...
                .11111111111111111111111111111..
                1111111111111111111111111111111.
                11111111111111111111111111111111
                11111111111111111111111111111111
                1111111111111111111111111111111.
                111111111111111111111111111111..
                ..111111111111111111111111111...
                ..11111111111111111111111111....
                ....1111111111111111111111......
                .......11111111111111111........
                `, mySprite, 0, 200)
            pause(100)
            sprites.destroy(projectile)
        }
    }
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    myEnemy.follow(mySprite, 0)
    info.changeScoreBy(1)
    pause(1000)
    myEnemy.follow(mySprite, 50)
})
let projectile: Sprite = null
let myEnemy: Sprite = null
let mySprite: Sprite = null
info.setScore(0)
mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . 8 8 8 8 8 8 . . . . . . 
    . . 8 8 8 8 8 8 8 8 8 8 . . . . 
    . . 8 8 8 8 8 8 8 8 8 8 . . . . 
    . . 8 8 8 8 8 8 8 8 8 8 8 . . . 
    . . 8 8 8 8 8 8 8 8 8 8 8 . . . 
    . . 8 8 8 8 8 8 8 8 8 8 8 . . . 
    . . 8 8 8 8 8 8 8 8 8 8 8 . . . 
    . . . 8 8 8 8 8 8 8 8 8 . . . . 
    . . . 8 8 8 8 8 8 8 8 8 . . . . 
    . . . . . 8 8 8 8 8 8 8 . . . . 
    . . . . . 8 8 8 8 8 . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(mySprite, 100, 100)
myEnemy = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . 2 2 2 2 2 2 2 . . . . . 
    . . . 2 2 2 2 2 2 2 2 2 . . . . 
    . . . 2 2 2 2 2 2 2 2 2 . . . . 
    . . . 2 2 2 2 2 2 2 2 2 . . . . 
    . . . 2 2 2 2 2 2 2 2 2 . . . . 
    . . . 2 2 2 2 2 2 2 2 2 . . . . 
    . . . 2 2 2 2 2 2 2 2 2 . . . . 
    . . . 2 2 2 2 2 2 2 2 2 . . . . 
    . . . . 2 2 2 2 2 2 2 . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy)
myEnemy.follow(mySprite, 50)
mySprite.setPosition(5, 6)
